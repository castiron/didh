// Components
// ----------

// General purpose classes
// --------------------------------------------------------
.aside {
	@extend %delta;
	@extend %with-gray-dark;
}

.copy-delta {
  @extend %delta;
}

.gray-lighter {
  background-color: $grayLighter !important;
}

.blue-dark-type {
  color: $blueDark;
}

.white {
  background-color: $white;
}

.dark {
  color: $white;
  background-color: $black;
}

.caps {
  text-transform: uppercase;
}

.italicized {
  font-style: italic;
}

.bold {
  font-weight: $bold;
}

.regular {
  font-weight: $regular;
}

.about a:hover {
  color: $chartreuse;
}

.mobile-only {
  display: none;
  @include respond-max(885px) {
    display: block;
  }
}

// Homepage components
// --------------------------------------------------------
.home-wrapper {
	margin-top: 170px;

  @include respond-max(450px) {
    margin-top: 31.35vw;
  }
  @include respond-max(1024px) {
    margin-top: 15.75vw;
  }
}

.home-title,
.home-byline {
	display: none;
}

.home-background {
	@extend %vertical-bar-fixed;
  width: 100%;
  max-height: 700px;
  // min-width: 1024px;
	background: $black asset-url('2016_DH_Cover_Map.jpg') no-repeat;
  background-size: cover;
  background-position: 50% 0;
  left: 0;
}

.home-header {
  position: relative;
  width: 76%;
  max-width: 576px;
  min-width: 275px;
  margin: 0 auto;
  background-color: $black;

  img {
    display: block;
    max-width: 100%;
    margin: 0 auto;
  }

  a {
    display: block;
    margin: 0 auto 15.75vw;
    padding: 30px 40px;
    border: 5px solid $chartreuse;
    text-align: center;

    span {
      display: inline-block;
      padding-top: 28px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    &:hover {
      span {
        color: $chartreuse;
      }
    }
  }
}

.home-welcome {
  text-shadow: 1px 1px black;
  p {
    font-size: 1.16em;
    text-align: center;
    line-height: 26px;
    font-weight: $regular;
  }
}

.home-content {
  position: relative;
  max-width: 833px;
  padding: 0 20px;
  margin: 0 auto;
}

.nav-start {
  @extend %clearfix;
	@extend %alpha;
	margin-top: 2.4em;

	a {
		@extend %home-link;
	}

  > .column-half {
    float: right;
    width: 50%;
    text-align: center;

    img {
      height: 100%;
      width: auto;
      vertical-align: bottom;
      border: 1px solid $chartreuse;
    }

    .cover-wrapper {
      position: relative;
      display: inline-block;
    }

    .cover-overlay {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      background-color: $chartreuse;
      opacity: 0;
      @include transition(0.05s opacity ease-out);
    }

    a {
      display: inline-block;
      margin-left: -15%;
      color: $white;
      &:hover {
        color: $chartreuse;

        .cover-overlay {
          opacity: 0.5;
        }
      }
    }

    .cover-label {
      padding-top: 20px;
      font-size: 0.75em;
      font-weight: $regular;
      line-height: 1.2;
    }
  }

  > .column-half + .column-half {
    a {
      margin-left: 0;
      margin-right: -15%;
    }
  }

  @include respond-max(500px) {
    > .column-half {
      float: none;
      width: 100%;

      a {
        margin: 0;
      }
    }

    > .column-half + .column-half {
      margin-top: 44px;
      padding: 0;

      a {
        margin: 0;
      }
    }
  }
}

// Homepage navigation
// --------------------------
// <ul>
.nav-primary {
	@extend %alpha;
	@extend %nav;
	position: absolute;
	bottom: 0;
	left: 0;
}

// <ul>
.home-footer {
  margin: 106px auto 0;
  text-align: center;

  .photo-credit {
    position: absolute;
    right: 0;
    bottom: -44px;
    font-size: 12px;
    line-height: 15px;
    margin-right: 30px;
  }
}

.nav-footer {
	@extend %loose-floated-list;
	margin: 80px auto 60px auto;

  li {
    float: none;
    display: inline-block;
  }

  a {
    height: 5em;
    &:hover {
      opacity: 0.6;
    }
    @include respond-max(860px) {
      height: 4em;
    }
  }

  img {
    height: 100%;
  }

	@include respond-max(1040px) {
		right: 10px;
	}

  @include respond-max(400px) {
    li + li {
      margin-left: 0.92em;
    }
  }
}

.nav-primary,
.nav-footer {
	@include respond-max(740px) {
		padding-top: $space;
		position: static;
	}
}


//Page components
// --------------------------------------------------------
.book-header, .default-header {
  .nav-interior {
    font-size: 0.88em;
    font-weight: $regular;
    > li {
      display: inline-block;
      padding: 8px 0px 8px 34px;
      a {
        text-decoration: none;
        &:hover {
          color: $white;
          &:before {
            text-decoration: none;
          }
        }
      }
      &.back-link {
        a {
          color: $white;
          &:before {
            padding-right: 8px;
          }
        }
      }
    }
    li + li {
      margin-left: 3px;
    }

    @include respond-max(500px) {
      > li {
        padding: 8px 0px 8px 10px;
      }
    }
  }
}

.default-header {
  position: fixed;
  z-index: 11;
  top: 0;
  left: 0;
  right: 0;
  background-color: $black;

  .book-header & {
    background-color: $blackLighter;

    .nav-interior li a {
      color: $grayMedium;

      &:hover {
        color: $chartreuse;
      }
    }

    li.open a {
      color: $chartreuse;
    }
  }

  .nav-interior {
    display: inline-block;
    font-size: 16px;
    li {
      position: relative;
      z-index: 31;
      a {
        color: $chartreuse;
      }
      &.active {
        a {
          color: $white;
          .light & {
            color: $chartreuse;
          }
        }
      }
    }
  }

  .logo-didh {
    display: inline-block;
    vertical-align: middle;
  	background: $black asset-url('logo-didh-small.png') no-repeat;
    background-size: contain;
    width: 52px;
    height: 42px;

    &:hover {
      background: $black asset-url('logo-didh-small-active.png') no-repeat;
    }
    .book-header & {
      @include respond-max(400px) {
        display: block;
      }
    }
  }
}


// Interior page components
// --------------------------------------------------------
.page-header {
	@extend %smooth-resize;
	@extend %vertical-bar-fixed;
	width: 160px;
	background-color: $black;
	padding: ($space * 2) $shim 0;
	left: 0;
	z-index: 30;
	@include respond-max(810px) {
		width: 128px;
		font-size: 0.8em;
		padding-top: $space;
	}
	@include respond-max-height(800px) {
		padding-top: $shim / 2;
	}
	@include respond-max-height(700px) {
		width: 128px;
		font-size: 0.8em;
		padding-top: $space;
	}

}

.interior-title {
	position: absolute;
	bottom: $shim * 2;
	right: 0;
	left: 0;
	@include respond-max-height(800px) {
		bottom: $shim / 2;
	}
	a {
		@extend %hidden-text;
		display: block;
		width: 58%;
		height: 435px;
		background: transparent asset-url('logo-ddh.png') no-repeat left bottom;
		background-size: 100% auto;
		margin: 0 auto;
		.no-backgroundsize & {
			background-image: asset-url('logo-ddh-half.png');
		}

	}
}

// Interior content wrapper
// TODO adjust margin-left on small screens
.interior-content {
	@extend %content-wrapper;
	padding-top: ($space * 4);
	padding-bottom	: ($space * 4);
	position: relative;
	z-index: 10;
  @include respond-max(810px) {
    width: 71.6%;
    margin-left: 60px !important;
    padding-right: 2em;
  }
}

// Content wrapper for frontend_page layout
.interior-content-page {
  padding: 60px 188px 60px 64px;
  background-color: $black;
  color: $white;

  > * {
    max-width: 1148px;
  }

  a {
    color: $white;
  }

  @include respond-max(885px) {
    padding: 60px 7.49% 0px 7.49%;
  }
}

.interior-content-bare {
  @extend %smooth-resize;
  width: 100%;
  background-color: $white;
  padding: 0;

  .column-fifth {
    max-width: 300px;
  }


  @include respond-min(1167px) {
    .column-main {
      &.padded {
        width: calc(100% - 350px);
      }
      > * {
        max-width: 850px;
      }
    }

    .column-six-fifths {
      max-width: 350px;
    }
  }

  @include respond-max(970px) {
    .column-half {
      width: 70%;
    }

    .column-half.mobile-full-width {
      width: 100%;
      float: none;

      &.padded {
        padding: 40px 40px 0px 40px;
      }
    }
  }

  @include respond-max(885px) {
    .column-main {
      width: 100%;

      &.padded {
        padding: 60px 7.49% 0px 7.49%;
      }
    }

    .column-six-fifths {
      width: 100%;

      &.padded {
        padding: 25px 5% 0px 5%;
      }
    }

    .column-six-fifths.mobile-full-width {
      width: 30%;
    }
  }

  @include respond-max(730px) {
    .columns-wrapper {
      width: 100%;
    }

    .column-six-fifths.mobile-full-width {
      width: 100%;
    }
  }
}

// Page banner
// --------------------------
.page-banner {
	@extend %smooth-resize;
	@extend %horizontal-bar-fixed;
	background-color: $grayAlt;
	border-top: 1px solid darken($grayAlt, 10%);
	margin-left: 160px;
	bottom: 0;
	z-index: 20;
	@include respond-max(810px) {
		margin-left: 128px;
	}
	@include respond-max-height(700px) {
		margin-left: 128px;
	}
}

// Lives inside .page-banner
.legend {
	display: none;
	width: 690px;
	background: $grayAlt asset-url('bg-banner.jpg') no-repeat left top;
	background-size: auto 260px;
	padding: 20px 120px 20px 145px;
	position: relative;
	.banner-open & {
		display: block;
	}
	.no-backgroundsize & {
		background-image: asset-url('bg-banner-half.jpg');
	}
}

.legend-no-bgimage {
  background:  none;
}

.legend--title {
	@extend %beta;
	margin-bottom: 0.5em;
}

.legend--description {
	@extend %delta;
	margin-bottom: 1em;
}

.legend--note {
	@extend %theta;
	img {
		vertical-align: middle;
	}
}

.legend--toggle {
	@extend %theta;
	display: inline-block;
	font-weight: $regular;
	font-style: italic;
	line-height: 18px;
	padding-left: 24px;
	background: transparent asset-url('icon-x.png') no-repeat left center;
	background-size: 18px;
	.no-backgroundsize & {
		background-image: asset-url('icon-x-half.png');
	}
}

// Head-up display
// --------------------------
.nav-hud {
	@extend %smooth-resize;
  //one hud in the header
  // background-color: $black;
  .default-header & {
    position: absolute !important;
    z-index: 10 !important;
    display: none;
    .nav-open & {
      display: none;
    }
  }
  //clone in the side-drawer
  .nav-content & {
    // display: none;
    position: absolute !important;
    z-index: 10;
    right: 0;
    padding: 10px 24px 9px 15px;
    @include respond-max(875px) {
      display: none;
      .nav-open & {
        display: block;
      }
    }
  }

  &:after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 2000px;
    max-width: 46px;
    height: 42px;
    background-color: $black;
    z-index: -1;
    @include transition(0.4s max-width linear);
  }

  .nav-open & {
    &:after {
      max-width: 300px;
    }
  }
}

.hud--list {
	@extend %delta;
	@extend %floated-list;
	@extend %smooth-resize;
	color: lighten($black, 40%);
	margin-right: 41px;
	cursor: pointer;
	&:hover {
		color: $black;
		border-bottom-color: $black;
	}

	li {
		max-width: 20em;
		line-height: 22px;
		padding-left: $space;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;

		&.hud--title {
			width: 34%;
			max-width: 20em;
		}

		&:first-child {
			padding-left: 0;
		}

		&:last-child {
			padding-left: 0;
		}
	}
}

// <span>
.hud--author {
	@extend %delta;
	text-transform: uppercase;
}

// <span>
.hud--details {
	@extend %delta;
}

// <li>
.hud--user {
	// width: 160px;
	color: $chartreuse;
  font-size: 14px;
  font-weight: $regular;
	text-align: right;
	// This !important overrides the default %floated list styles
	float: right !important;
	position: relative;
  &:hover {
    text-decoration: none;
    color: $white;
  }
	@include respond-max(810px) {
		em {
			display: none;
		}
	}
}

// Authentication dropdown
// --------------------------
// Lives inside .nav-hud
.authentication {
	background-color: $grayDarker;
	padding: 20px;
	position: absolute;
	bottom: 100px;
	right: $navClosedWidth;
  left: -63px;
	z-index: -1;
  height: 259px;
  width: 238px;

	.nav-open & {
		right: $navOpenWidth;
	}

	ul {
		@extend %unstyled-list;
		text-align: right;
		li + li {
			margin-top: 14px;
		}
	}

  li {
    @extend %clearfix;
    a {
      text-decoration: none !important;
      color: $black !important;

      &.right {
        float: right;
      }

      &.left {
        float: left;
      }
    }
  }

	form {
		@extend %clearfix;
    a {
      color: $black;
    }
		.right,
		.left {
			margin-top: 14px;
		}
		.right {
			float: right;
		}
		.left {
			float: left;
		}
	}

  &.logged-in {
    left: -17px;
    width: 238px;
  }

  .default-header & {
    li {
      a {
        font-size: 1em;
      }
    }
  }

  .nav-content & {
    right: 46px;
    left: -81px;

    &.logged-in {
      right: 46px;
      left: -42px;
      width: 236px;
    }
  }

  @include respond-max(810px) {
    .nav-content & {
      left: -81px;

      &.logged-in {
        left: -127px;
      }
    }
  }
}

.authentication--label {
	@extend %eta;
	display: block;
	font-style: italic;
	color: $white;
	margin-bottom: 6px;
	&.right {
		text-align: right;
	}
}

// Content components
// --------------------------

.book-blurbs {

  .callout-wrapper {
    max-width: 350px;
  }

  .column-main & {
    background-color: transparent !important;

    .callout-wrapper {
      width: 100%;

      .narrow-image {
        width: 50%;
      }

      .narrow-paragraph {
        display: none;
      }
    }
  }

  @include respond-min(600px) {
    .column-main & {
      display: inline-block;
      padding: 25px 0 !important;
      text-align: center;

      .callout-wrapper {
        display: inline-block;
        width: 50%;
        margin: 0 -1.1%;
        padding: 0 6%;
        vertical-align: top;

        .narrow-paragraph {
          text-align: left;
        }
      }
    }
  }

  @include respond-min(885px) {
    display: block;
    position: relative;
    z-index: 12;

    .column-main & {
      display: none;
    }
  }

  @include respond-max(885px) {
    display: none;

    .column-main & {
      display: inherit;
    }
  }

  @include respond-min(1167px) {
    &.column-six-fifths {
      width: 350px;
    }
  }
}

.callout-wrapper + .callout-wrapper {
  margin-top: 14px;
}

.callout {
	@extend %callout;

  .details-list {
    li {
      text-align: center;
      max-width: 300px;
      margin: 0 auto;
      a {
        @include transition(0.05s color ease-out);
        display: block;
        padding: 15px 18px;
        color: $blueDark;
        font-weight: $regular;
        text-decoration: none;
      }
      &:hover {
        a {
          text-decoration: underline;
        }
      }
      &.highlighted {
        background-color: $blueDark;
        border: 1px solid $blueDark;
        a {
          color: $white;
          font-weight: $regular;
          text-decoration: none;
        }
        &:hover {
          background-color: transparent;
          a {
            color: $blueDark;
          }
        }
      }
    }
    li + li {
      margin-top: 0.5em;
      border: 1px solid transparent;
    }
    .outlined {
      margin-top: 1.5em;
      border: 1px solid $blueDark;
    }
    &:hover {
      li, li.outlined {
        background-color: transparent;
        border: 1px solid transparent;
        a {
          color: $blueDark;
        }
      }
      li.highlighted {
        background-color: $blueDark;
        a {
          color: $white;
        }
      }
    }
    li:hover, li.outlined:hover, li.highlighted:hover {
      background-color: transparent;
      border: 1px solid $blueDark;
      cursor: pointer;
      a {
        color: $blueDark;
        text-decoration: none;
      }
    }
  }
  img {
    width: 98%;
    display: block;
    margin: 0 auto;
    padding-bottom: 9px;
  }

  .column-half > & {
    display: none;
  }

  @include respond-max(970px) {
    .column-fifth > & {
      width: 100%;
      img, .details-list {
        display: block;
        width: 100%;
      }
      .details-list {
        margin: 0 auto !important;
        padding-top: 0;
        vertical-align: top;
        li {
          margin-top: 1.5em;
        }
      }
    }
  }
  @include respond-max(885px) {
    .column-six-fifths > & {
      display: inline-block;
      width: 49%;
      padding-left: 15px;
      padding-right: 15px;
    }
    .column-half > & {
      display: block;
    }
  }
  @include respond-max(730px) {
    .column-fifth > & {
      width: 100%;
      .details-list {
        width: 100%;
      }
    }
  }
}

.callout-wrapper.column-fifth.padded.invisible-mobile {
  padding: 56px 20px 46px 40px;

  @include respond-max(730px) {
    margin-bottom: -40px;
    img {
      width: 55%;
    }
  }
  @include respond-max(970px) {
    padding-bottom: 0;
    .callout {
      padding-bottom: 0;
      img {
        padding-bottom: 0;
      }
      .details-list {
        display: none;
      }
    }
  }
}

.callout-wrapper.column-fifth.padded.invisible-desktop {
  @include respond-min(970px) {
    display: none;
  }
}

// Block quotes
// --------------------------
.blockquote {
	margin-bottom: $shim;
}

// Lives inside .blockquote
.attribution {
	display: block;
	font-weight: $bold;
	font-style: normal;
	text-align: right;
	&:before {
		content: "\2014";
	}
}

// Chapter
// --------------------------
.chapter {
	position: relative;
}

.chapter-heading {
	@extend %beta;
	margin-bottom: 1em;
}

.chapter-byline {
	@extend %gamma;
	text-transform: uppercase;
	margin-bottom: 1em;
}

.chapter-section {
	margin-bottom: 25px;
	.figure {
		margin-top: 1em;
		margin-bottom: 1em;
	}
	img {
		margin-top: 1em;
		margin-bottom: 1em;
		max-width: 508px;
	}
	p.rf, p.en {
		margin-bottom: 1em;
		text-indent: 0;
		/* Force linebreaks on long URLs */
		a {
			white-space: pre;           /* CSS 2.0 */
			white-space: pre-wrap;      /* CSS 2.1 */
			white-space: pre-line;      /* CSS 3.0 */
			white-space: -pre-wrap;     /* Opera 4-6 */
			white-space: -o-pre-wrap;   /* Opera 7 */
			white-space: -moz-pre-wrap; /* Mozilla */
			white-space: -hp-pre-wrap;  /* HP Printers */
			word-wrap: break-word;      /* IE 5+ */
		}
	}
	p.ah {
		font-style: italic;
		font-weight: bold;
		margin-top: 1em;
		margin-bottom: 1em;
		text-indent: 0;
	}
	p.bh {
		font-weight: bold;
		margin-top: 1em;
		margin-bottom: 1em;
		text-indent: 0;
	}
	p.ch {
		font-style: italic;
		margin-top: 1em;
		margin-bottom: 1em;
		text-indent: 0;
	}
	.epigraph {
		margin-top: 1em;
		margin-bottom: 1em;
		font-style: italic;
		.ept, .quotail {
			margin-bottom: 1em;
			margin-top: .5em;
			text-indent: 0;
		}
	}
	p.bqs, div.list, .blockquote p {
		margin: 2em;
    text-indent: 0;

    //Enable if given the option to do so
    // & + p {
    //   margin-top: -1em;
    // } 

		p, span {
			text-indent: 0;
		}
	}
}

.chapter-body {
	@extend %justified;

  #ahaft3701, #bhaft3701, #ah3701, #ah3702 {
    font-family: monospace;
    font-size: 18px;
    font-weight: $thin;
    line-height: 24.3px;
  }

  #bhaft3701, #ah3701, #ah3702 {
    padding-bottom: 18px;
  }
}

.chapter-notes {
	p {
		@extend %delta;
	}
	.enp {
		margin-bottom: 25px;
	}
}

.chapter-bibliography {
	p {
		@extend %delta;
	}
}

// Sentences
// --------------------------
// span.hover {
// 	background-color: lighten($yellow, 10%);
// }

span.indexed {
  text-decoration:  underline;
}

span.sentence {
	cursor: pointer;
	&.hover,
	&:hover {
		@extend %active-sentence;
		background-color: lighten($yellow, 15%);
		border-bottom: 1px solid lighten($yellow, 15%);
	}
}

body.static-true span.sentence:hover {
  background-color: #fff;
  cursor: auto;
}

// Comment indicator
// --------------------------
// <p>
// Paragraphs that contain sentences with comments get this class
.contains-comment {
	position: relative;
	&:after {
		@extend %smooth-resize;
		content: "";
		display: block;
		width: 21px;
		height: 22px;
		background: transparent asset-url('speech-bubble-gray.png') no-repeat right top;
		background-size: 21px 22px;
		padding: 0 0 20px 34px;
		position: absolute;
		top: 0.2em;
		right: -3em;
		.no-backgroundsize {
			background-image: asset-url('speech-bubble-gray-half.png')
		}
		@include respond-max(860px) {
			right: -1.8em;
			padding-left: 12px;
		}
	}
	&:hover {
		.comment-count {
			display: block;
		}
	}
	.comment-count {
		@extend %smooth-resize;
		@extend %eta;
		display: none;
		width: 92px;
		font-weight: $thin;
		color: $grayDark;
		text-indent: 0;
		position: absolute;
		top: 0.3em;
		right: -153px;
		@include respond-max(960px) {
			span {
				display: none;
			}
		}
		@include respond-max(880px) {
			top: 28px;
			right: -125px;
		}
		@include respond-max(860px) {
			right: -103px;
		}
	}
}

// Sentences with comments get this class
.has-comment {
	p:hover & {
		@extend %active-sentence;
		border-bottom: 1px dotted $blueDark;
	}
}

// Interior navigation
// --------------------------
// <ul>
.nav-interior {
	@extend %beta;
	@extend %nav;
}

.nav-content {
	@extend %vertical-bar-fixed;
	width: $navClosedWidth;
	right: 0;
	z-index: 30;
}

.nav-panes {
	height: 100%;
	position: relative;
}

// <ul>
// Lives inside nav-content
.nav-pane {
	@extend %delta;
	@extend %unstyled-list;
	background-color: $white;
	position: relative;
  .default-header & {
    background-color: transparent;
  }
	.level-0,
	.level-1 {
		@extend %vertical-bar;
    left:  -$navOpenWidth + $navClosedWidth;
		width: $navOpenWidth;
		background-color: $grayLight;
		@include box-shadow(
			inset $navClosedWidth 0 0 0 $grayLight,
			inset ($navClosedWidth + 4) 0 0 0 $white
		);
	}
	.level-1 {
		position: relative;
		height: 100%;
		border-left: 4px solid $white;
		width: ($navOpenWidth * 2) + 50;
		border-bottom: 4px solid $white;
		left: $navClosedWidth;
	}
}

.pane-top {
	.level-0,
	.level-1 {
    background-color: $blackLighter;
		border-bottom: none;
    border-left: none;
    box-shadow: none;
	}
  .level-0 {
    left: -266px;
    width: $navOpenWidth;
  }
}

//feedback sidebar
.nav-pane.pane-top {
  left: 254px;
}

// <li>
// Lives inside nav-panes
.pane--content {
	width: 100%;
	height: 100%;
	line-height: $tightLineHeight;
	padding: 40px 20px 30px 50px;
	position: relative;

	.pane-top & {
		padding: 0 0 0 40px;
	}

	.part {
		@extend %clearfix;
		margin-bottom: 50px;
	}

	.parts {
		position: relative;
	}

  .edition-info {
    @extend %unstyled-list;
    position: absolute;
    top: 68px;
    left: 25px;
    font-size: 14px;
    font-weight: $regular;
    visibility: hidden;
    max-width: 250px;
    // @include transition(0.2s visibility linear);

    .nav-open & {
      visibility: visible;
    }

    .title {
      color: $white;
    }

    .author, .edition {
      color: $grayMedium;
    }

    .author {
      padding-top: 11px;
    }

    .edition {
      padding-top: 8px;
    }
  }
}

.pane--vertical-stage {
	overflow: hidden;
}

.pane-top {
	height: 100%;
	right: 0;
}

.pane-bottom {
	height: 60%;
	top: 0;
	&.reveal-level-0 {
		right: 0;
	}
	&.reveal-level-1 {
		right: ($navOpenWidth * 2) + 4px;
	}
	&.reveal-level-2 {
		right: ($navOpenWidth * 2) + 4px;
	}
	.level-0 {
		margin-bottom: 0;
	}
}

.pane--header {
	.pane-top & {
    left: 4px;
    // background-color: $blackLighter;

    .pane--header-label {
      position: absolute;
      top: 75px;
      left: -7px;
      color: $grayMedium;
      font-size: 14px;
      transform: rotate(90deg);
      visibility: visible;
      @include transition(0.2s visibility linear);

      .nav-open & {
        visibility: hidden;
      }
    }

    &:hover {
      cursor: pointer;

      .pane--header-label {
        color: $white;
      }

      .icon-chevron-right:before {
        color: $white;
      }
    }
	}
	cursor: pointer;
	@extend %vertical-bar;
	width: $navClosedWidth;
	left: 0;
	white-space: nowrap;
	z-index: 10;


}

// Width set to height of parent (pane--header)
// with javascript
// Bottom positioning = line-height + padding,
// which makes up for offset due to rotation axis
.pane--title {
	@extend %with-gray-dark;
	@extend %epsilon;
	@include rotate(-90deg, top left);
	line-height: 1;
	text-align: center;
	padding-top: 13px;
	position: absolute;
	bottom: 12.5%;
	left: 0;
	overflow: hidden;
	.lt-ie9 & {
		filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);
		bottom: 150px;
	}
}

.pane-bottom--title {
	top: 50%;
	bottom: auto;
	.lt-ie9 & {
		top: 150px;
	}
}

// <a>
.content-nav--toggle {
	position: absolute;
  top: 4px;
  left: 13px;
  color: $chartreuse;
  font-size: 32px;
  line-height: 32px;

  &:before {
    cursor: pointer !important;
  }

  &:hover {
    color: $white;
  }

  &.icon-chevron-right:before {
    content: "\f104";
  }

  .nav-open &.icon-chevron-right:before {
    content: "\f105";
  }
}

.content-nav--toggle-pos2 {
	// @extend %circle-arrow-left;
}


// Pane content toggle
// Lives inside .pane--content
// --------------------------
// <a>
.content--toggle {
	@extend %eta;
	@extend %with-gray-dark;
	font-style: italic;
	position: absolute;
	bottom: $space;
}

.content--toggle--arrow {
	@extend %circle-arrow-small-left;
	float: left;
	margin-right: 5px;
}

.content--toggle--arrow-right {
	@extend %circle-arrow-small;
	float: left;
	margin-right: 5px;
}

// Count boxes
// --------------------------
// <ul>
.count-box-list {
	@extend %tight-floated-list;
	position: absolute;
  bottom: 117px;
  left: 0;
  padding-left: 11px;
  visibility: hidden;
  @include transition(0.2s visibility linear);

  .nav-open & {
    visibility: visible;
  }
}

// <li>
.count-box {
	height: auto;
	width: 100%;
	padding: 0 10px;
	position: relative;
  display: block;
}

.count-box--title {
  font-size: 13px;
  line-height: 15.6px;
  font-weight: $regular;
  display: inline-block;
  width: 49%;
  margin: 0;
  padding-left: 3px;
  color: $grayMedium;
  text-align: left;
}

.count-box--number {
  @extend %deca;
  line-height: 54px;
  color: $chartreuse;

  @include respond-max-height(700px) {
    display: inline-block;
    line-height: 40px;
  }
}

// Feedback options
// --------------------------
.feedback-options {
  @include transition(0.2s visibility linear);
	position: absolute;
  z-index: 10;
  right: 0;
  left: 0;
	bottom: 0;
  padding-top: 18px;
  background-color: $black;
  visibility: hidden;
  .nav-open & {
    visibility: visible;
  }
}

.feedback-options--title {
	@extend %beta;
	@extend %with-gray-dark;
	font-style: italic;
	margin-bottom: 1em;
}

.feedback-options--list {
	@extend %unstyled-list;
  font-weight: $regular;
	& > li + li {
		margin-top: $shim;
	}
}

.feedback-options--sublist {
	@extend %floated-list;
  li {
    width: 50%;
    background-color: $black;
    border: 3px solid transparent;
    &.active {
      background-color: $chartreuse;
    }
    
    &:hover {
      cursor: pointer;
      border: 3px solid $grayMedium;

      .stacked, .opacity {
        color: $grayMedium;

        &.active {
          color: $black;
        }
      }

      &.active {
        border: 3px solid transparent;
        color: $black;

        .opacity {
          color: $black;
          b {
            background: transparent asset-url('icon-opacity-active.png') no-repeat left top;
          }
        }

        .stacked {
          color: $black;
          b {
            background: transparent asset-url('icon-stacked-active.png') no-repeat left top;
          }
        }
      }

      .opacity {
        b {
          background: transparent asset-url('icon-opacity-hover.png') no-repeat left top;
        }
        .active & {
          b {
            background: transparent asset-url('icon-opacity-active.png') no-repeat left top;
          }
        }
      }

      .stacked {
        b {
          background: transparent asset-url('icon-stacked-hover.png') no-repeat left top;
        }
        .active & {
          b {
            background: transparent asset-url('icon-stacked-active.png') no-repeat left top;
          }
        }
      }
    }
  }
}

.feedback-options--label {
	@extend %input-label;
  padding: 15px 0px 12px 1.3em;
	font-size: 0.884em;
	margin-bottom: 0;
	position: relative;
	cursor: pointer;
  color: $white;
  &.stacked, &.opacity {
    color: $chartreuse;
    &:hover {
      color: $grayMedium;
    }
    .active & {
      color: $black;
      &:hover {
        color: $black;
      }
    }
  }

  .opacity-label, .stacked-label {
    background-size: auto 100%;
    margin-left: 2px;
  }
  .opacity-label {
    padding: 2px 0 2px 4px;
  }
  .stacked-label {
    padding: 2px 0 2px 11px;
  }
}

.feedback-options--radio {
	@extend %radio;
}

.feedback-options--checkbox {
  position: absolute;
  right: 1.3em;
  display: inline-block;
  width: 34px;
}
.feedback-options--wrapper {
  margin-bottom: 12px;
  padding-left: 25px;

  span {
    display: inline-block;
  }
}

.onoffswitch-label {
  display: block;
  overflow: hidden;
  cursor: pointer;
  height: 14px;
  padding: 0;
  line-height: 14px;
  border-radius: 20px;
  background-color: $blackLighter;

  &:before {
    content: "";
    display: block;
    width: 20px;
    margin: -3px;
    background-color: $chartreuse;
    position: absolute;
    top: 1px;
    bottom: 7px;
    right: 18px;
    border-radius: 20px;
  }

  &:hover {
    &:before {
      background-color: $grayMedium;
    }
  }
}

.onoffswitch-checkbox {
  display: none;

  &:checked + .onoffswitch-label:before {
    right: 0;
  }

  &.off + .onoffswitch-label {
    &:before {
      background-color: $grayMedium;
    }
  }
}

.onoffswitch-text-label {
  color: $chartreuse;
  &.off {
    color: $grayMedium;
  }
}

// Table of contents
// --------------------------

.toc-container {
  position: fixed;
  z-index: 40;
  display: none;
  left: 0px;
  top: 0px;
  width: 720px;
  height: 100%;
  margin-top: 40px;
  background-color: $black;
  overflow: hidden;

  &.open {
    display: block;
  }

  @include respond-max(400px) {
    margin-top: 84px;
  }
}

.toc-editions {
  position: absolute;
  z-index: 60;
  top: 40px;
  left: 0px;
  display: inline-block;
  width: 232px;
  height: 96vh;
  vertical-align: top;
  padding-left: 80px;
  padding-right: 52px;
  background-color: $black;

  li {
    margin-bottom: 30px;
    &:hover {
      cursor: pointer;

      .cover-overlay {
        opacity: 0.5;
      }

      .cover-label {
        color: $chartreuse;
      }
    }
  }

  * {
    display: inline-block;
    width: 100%;
  }

  img {
    opacity: 0.38;
    cursor: pointer;
    border: 1px solid $chartreuse;

    &.active {
      opacity: 1;
    }
  }

  .cover-wrapper {
    position: relative;
    display: inline-block;
  
    .cover-overlay {
      position: absolute;
      top: 0;
      bottom: 6px;
      left: 0;
      right: 0;
      background-color: $chartreuse;
      opacity: 0;
      @include transition(0.05s opacity ease-out);
    }

  }

  .cover-label {
    font-size: 14px;
    line-height: 1.2;
    color: $white;
  }


  @include respond-max(570px) {
    width: 150px;
    padding-left: 16px;
    padding-right: 33px;
  }

  @include respond-max(400px) {
    width: 105px;
    padding-left: 16px;
    padding-right: 16px;
  }
}

.nav-item-part {
  .nav-toc .nav-pane &.active {
  visibility: visible;
    a span {
      color: $chartreuse;
    }
  }

  &:hover {
    a span {
      color: $chartreuse;
    }
  }
}

.nav-toc {
  position: relative;
  background-color: transparent;

  .nav-pane {
    position: absolute;
    z-index: 50;
    top: 42px;
    left: 0px;
    right: inherit;
    width: 200vw;
    height: 96vh;
    padding: 0px 34px 50px 178px;
    background-color: $black;

    //edition tabs
    &.edition {
      display: none;

      &.active {
        display: block;
      }
    }

    &.pane-bottom {
      height: auto;
    }

    .level-0, .level-1 {
      position: relative;
      display: inline-block;
      width: 400px;
      vertical-align: top;
      box-shadow: none;
      background-color: transparent;

      h2 {
        cursor: pointer;

        &.icon-chevron-left {
          font-family: "museo-slab", serif;

          &:before {
            position: relative;
            bottom: -3px;
            font-family: FontAwesome;
            font-size: 32px;
            line-height: 0;
            font-weight: $regular;
            padding-right: 10px;
            margin-left: -21px;
          }
        }
      }

      .pane-bottom--title {
        padding-bottom: 12px;
        padding-left: 40px;
        font-weight: $bold;
        color: $white;
      }

      li {
        margin-left: 0;
        border-bottom: 1px solid $white;
        border-bottom: 1px solid rgba(255,255,255, 0.46);
        padding-bottom: 14px;

        &.icon-chevron-right-after {
          font-family: "museo-slab", serif;

          &:after {
            font-family: FontAwesome;
            font-size: 32px;
            line-height: 0;
            font-weight: $regular;
            padding-top: 6px;
            float: right;
            color: $white;
          }
        }
      }
    }

    .level-0 {
      left: 0;
      max-height: calc(100vh - 120px);
      overflow: hidden;
      overflow-y: scroll;
      margin-left: 53px;

      .pane-bottom--title {
        font-size: 16px;
        font-weight: $bold;
        color: $white;
        padding-left: 0;
        &:before {
          color: $white;
        }
        &:hover {
          color: $chartreuse;

          &:before {
            color: $chartreuse;
          }
        }
      }

      .pane--content {
        padding: 0px 0px 0px 27px;
        border-top: 3px solid $white;
      }

      li {
        display: block;
        margin-left: 0;
        border-bottom: 1px solid $white;
        border-bottom: 1px solid rgba(255,255,255, 0.46);
        padding-bottom: 14px;
        font-size: 14px;
        font-weight: $bold;

        a {
          display: inline-block;
          width: 75%;
          text-decoration: none !important;

          &:hover {
            color: $chartreuse;
          }
        }
      }
      @include respond-max(500px) {
        margin-left: 6px;
        .pane--content {
          padding: 0px 0px 0px 20px;
        }
      }
    }

    .level-1 {
      top: 4px;
      left: -2px;
      border: none;
      overflow: hidden;

      .pane--content {
        padding: 48px 20px 30px 0px;
      }

      .pane-bottom--title {
        padding-left: 0;
        padding-bottom: 26px;
        margin-left: 20px;
        font-size: 16px;
        font-weight: $bold;
        color: $chartreuse;

        &:before {
          color: $chartreuse;
        }

        &:hover {
          color: $white;

          &:before {
            color: $white;
          }
        }
      }

      .pane-bottom--subtitle {
        padding: 13px 0 25px;
        margin-left: -40px;
        font-size: 14px;
        font-weight: $bold;
        color: $white;

        &:hover {
          cursor: pointer;
          color: $chartreuse;
        }

        @include respond-max(570px) {
          margin-left: 0; 
        }
      }

      .part-wrapper {
        display: inline-block;
        width: 100%;
        @include transition(0.05s visibility linear);

        &, * {
          visibility: hidden;
        }

        &.active {
          &, * {
            visibility: visible;
          }
        }
      }

      .part {
        height: calc(100vh - 120px);
        overflow: hidden;
        overflow-y: scroll;
        padding: 0px 0px 0px 40px;
        border-top: 3px solid $white;
      }

    }

    @include respond-max(680px) {
      .level-0, .level-1 {
        width: 323px;
      }
    }

    @include respond-max(570px) {
      padding: 0px 34px 50px 97px;
    }

    @include respond-max(500px) {
      padding: 0px 34px 50px 144px;

      .level-0, .level-1 {
        width: 200px;
        .pane-bottom--title {
          padding-left: 20px;
        }
        .part {
          padding: 0px 0px 120px 20px;
        }
      }

      .level-1 {
        left: 10px;
      }
    }

    @include respond-max(400px) {
      padding: 0px 34px 50px 97px;
    }

    .nav-index {
      border-top: 1px solid $white;
      border-top: 1px solid rgba(255,255,255, 0.46);

      a {
        cursor: pointer;
        color: $white;
        
        .title, .author {
          font-size: 14px;
          font-weight: $regular;
        }

        &:hover {
          color: $chartreuse;

          li:after {
            color: $chartreuse;
          }

          .title, .author {
            color: $chartreuse;
          }
        }

        &.active {
          color: $chartreuse;

          li:after {
            color: $chartreuse;
          }
        }
      }

      li {
        margin-top: 0px;
        padding-top: 17px;
      }
    }
  }
  &.open {
    background-color: $blueDark;
    > a {
      color: $white !important;
    }
  }
}

.nav-index {
	@extend %unstyled-list;
	@extend %delta;
	@include spaced-items(li, 17px);
	li:first-child {
		margin-top: 0;
	}
	a {
		line-height: $tightLineHeight;
		color: $grayDark;
    font-size: 16px;
    font-weight: $bold;
    &:hover,
    &.active {
      color: $chartreuse;
    }
    &:focus {
      outline: 0;
    }
    span {
      display: block
    }
  }
  span.author {
    margin-top: 5px;
		color: $grayMedium;
	}
	ul {
		&.closed {
			display: none;
		}
		margin-top: 15px;
		padding-left: 15px;
	}
}
// .nav-index-col {
// 	&:last-child {
// 		margin-left: 50px;
// 	}
// 	width: 100%;
// 	float: left;
// }

// Reduce TOC font size on short screens
.nav-index,
parts {
	@include respond-max-height(700px) {
		font-size: 0.8em;
	}
	@include respond-max-height(600px) {
		font-size: 0.7em;
	}
}

// Comment drawer
// --------------------------------------------------------
// Lives inside .nav-content
.comment-drawer {
	$width: 620px;
	@extend %smooth-resize;
	width: $width;
	background-color: $yellowLight;
	position: absolute;
	top: 0;
	bottom: 0;
	left: $navClosedWidth;
	z-index: 40;
	&.open {
		@include box-shadow(
			-6px 0 0 0 transparentize($black, 0.97)
		);
		left: $navClosedWidth - $width;
	}
	@include respond-max(1000px) {
		$width: 480px;
		width: $width;
		&.open {
			left: $navClosedWidth - $width;
		}
	}
  @include respond-max(1000px) {
    $width: 320px;
    width: $width;
    &.open {
      left: $navClosedWidth - $width;
    }
  }
}

.comment-drawer--scroll {
	padding-right: 10px;
	position: absolute;
	top: 40px;
	right: 30px;
	bottom: 80px;
	left: 40px;
	overflow-y: scroll;
	&::-webkit-scrollbar {
		width: 8px;
		height: 0;
	}
	&::-webkit-scrollbar-thumb {
		background: transparentize($grayDark, 0.4);
		border-radius: 8px;
	}
	&::-webkit-scrollbar-track:vertical {
		margin-bottom: 10px;
	}
	@include respond-max(1000px) {
		padding-right: 6px;
		right: 14px;
		left: 20px;
	}
}

.comment-drawer--footer {
	padding: 26px 32px;
	border-top: 1px solid transparentize($black, 0.82);
	position: absolute;
	right: 40px;
	bottom: 0;
	left: 40px;
  @include respond-max(1000px) {
    padding: 26px 14px;
  }
}

.comment-drawer--heading {
	@extend %gamma;
	background: transparent asset-url('speech-bubble-gray.png') no-repeat left center;
	background-size: auto 21px;
	padding-left: 36px;
	margin-left: 32px;
	margin-bottom: 0.88em;
	.no-backgroundsize & {
		background-image: asset-url('speech-bubble-gray-half.png')
	}
}

// <blockquote>
.comment-drawer--reference {
	@extend %delta;
	@extend %justified;
	background-color: $white;
	padding: 20px 32px;
	margin-bottom: 20px;
}

.comment-drawer--list {
	@extend %delta;
	@extend %unstyled-list;
	padding: 0 32px 20px;
}

.comment-drawer--comment {
	@extend %clearfix;
	padding: 20px 10px 0 42px;
	border-top: 1px solid transparentize($black, 0.92);
	margin: 0 -10px 0 -42px;
	& + & {
		margin-top: 20px;
	}
	p {
		@extend %justified;
		background-color: $yellowLighter;
		padding: 4px 10px;
		margin: 0 -10px 3px;
	}
	ul {
		@extend %unstyled-list;
		padding-left: 32px;
		margin-top: 20px;
	}
	.comment-drawer--list > & {
		padding-left: 10px;
		margin-left: -10px;
		&:first-child {
			padding-top: 0;
			border-top: none;
		}
	}
}

.comment-drawer--form {
	@extend %clearfix;
	display: none;
	margin-top: 22px;
	.text-input {
		width: 100%;
	}
	label {
		em {
			color: transparentize($black, 0.62);
		}
	}
	.errors {
		@extend %unstyled-list;
		background-color: $orange;
		margin: 0 0 $shim;
		&:empty {
			margin-bottom: 0;
		}
		> li {
			@extend %epsilon;
			color: $white;
			background-color: $orange;
			padding: 0.5em;
		}
	}
	.active > & {
		display: block;
	}
}

.comment-drawer--user {
	display: inline-block;
	font-style: italic;
}

.comment-drawer--timestamp {
	@extend %delta;
	display: inline-block;
	font-style: italic;
	color: transparentize($black, 0.62);
}

.comment-drawer--reply {
	@extend %small-white-button;
	letter-spacing: 0.1em;
	margin-top: 6px;
	float: right;
	.active > & {
		display: none;
	}
}

.comment-drawer--action {
	@extend %delta;
	color: transparentize($black, 0.72);
	margin: 6px 0 0 10px;
	float: right;
	&:hover {
		color: $black;
	}

}

// The floating annotator
// --------------------------------------------------------
// <div>
.annotator {
	@extend %delta;
	width: 320px;
	background-color: $gray;
	border: 2px solid white;
	position: absolute;
	top: 0;
	left: 0;
	z-index: 40;
	&:before {
		content: "";
		border: 17px solid transparent;
		border-top: 32px solid $white;
		position: absolute;
		bottom: -49px;
		left: 24px;
		z-index: 12;
	}
	&:after {
		content: "";
		border: 15px solid transparent;
		border-top: 28px solid $gray;
		position: absolute;
		bottom: -43px;
		left: 26px;
		z-index: 14;
	}
}

// Annotator sections
// --------------------------
.annotator--top {
	font-style: italic;
	color: $grayDark;
	background-color: $gray;
	padding: 0.5em 1em;
	border-bottom: 2px solid $white;
}

// Expands to 316px wide
.annotator--right {
	color: $white;
	width: 125px;
	background-color: darken($gray, 30%);
	padding: 0.5em;
	border: 2px solid $white;
	position: absolute;
	left: 191px;
	top: -2px;
	bottom: -2px;
	z-index: 10;
}

.annotator--left {
	background-color: $gray;
	position: relative;
	z-index: 20;
    height: 180px;
    overflow:  hidden;
}

.annotator-pane {
    height: 180px;
}

.annotator-panes {
    position: relative;
}

// Bottom
// --------------------------
// <ul>
.annotator--bottom {
	@extend %clearfix;
	@extend %unstyled-list;
	padding: 1em;
	li {
    margin-bottom: .5em;
		cursor: pointer;
	}
}

// <li>
.annotate-interesting {
	@extend %circle-item-small-blue;
}

.annotate-comment {
  @extend %circle-item-small-yellow;
}

// <li>
.annotate-index {
	@extend %circle-item-small-orange;
}

// <li>
.annotate-close {
	padding-left: 30px;
	background: transparent asset-url('icon-x-alt.png') no-repeat 4px center;
	background-size: 12px;
	.no-backgroundsize & {
		background-image: asset-url('icon-x-alt-half.png');
	}
}

// Index annotation form
// --------------------------
.annotator--input {
	@extend %text-input;
	width:  200px;
	margin: 10px 10px 0 0;
}

.annotator--button {
	@extend %button-input;
  &:hover {
    background-color: $blueDark;
    border-color: $blueDark;
    color: $white;
  }
}

// Annotation flag
// Seen to the left of text
// --------------------------
.annotation {
	@extend %smooth-resize;
	display: block;
	width: 5px;
	height: 10px;
  background: $chartreuse;
  position: absolute;
  left: -100px;
  overflow: visible;
  @include respond-max(1360px) {
    left: -80px;
  }
  @include respond-max(810px) {
    left: -45px;
    max-height: 200px;
	}
}

// Annotation Counter [SM TO REVIEW] -- this is not being used yet, so you can ignore it for now.
// --------------------------
// <div>
.annotation-counter {
	position: absolute;
	z-index: 8000;
	left: 20px;
	width: 300px;
	background: $grayDark;
	height: 150px;
}

// Lists
// --------------------------------------------------------
.unstyled-list {
	@extend %unstyled-list;
}

// Name list
// --------------------------
.name-list {
	@extend %delta;
	@extend %unstyled-list;
	margin: 0 !important;
  font-weight: $regular;
	li + li {
		margin-top: 0.5em;
	}
	small {
		@extend %delta;
		display: block;
    font-weight: $thin;
		// color: $grayDark;
	}
}

// Details list
// --------------------------
.details-list {
	@extend %delta;
	@extend %unstyled-list;
	margin: 0 !important;
	& > li + li {
		margin-top: 0.75em;
	}
	ul {
		@extend %unstyled-list;
		margin: 0;
	}
}

// Contents list
// --------------------------
.indented-list {
	@extend %unstyled-list;
  margin: 3px 0px 0px 0px !important;
  li {
    padding-left: 50px;
  }
}

// Forms
// --------------------------------------------------------
body.page form,
.new_message {
	display: inline-block;
	max-width: 100%;
	background-color: $grayLight;
  &.new_message {
    background-color: $blackLight;
    .field--button {
      color: $white;
      border-color: $white;
      &:hover {
        background-color: $blueDark;
        border-color: $blueDark;
      }
    }
  }
  padding: 1em 1em 1em 1em;
  margin: 1.35em 0;
}

.row {
	@extend %clearfix;
	width: 30.22em;
	max-width: 100%;
	& + & {
		margin-top: 1em;
	}
	.comment-drawer--form & {
		width: 100%;
	}
}

.row-submit {
    margin-left:17.75%;
    @include respond-max(650px) {
      margin-left:0;
    }

    .g-recaptcha {
      margin-bottom: 1em;
      transform-origin:0 0;
      @include respond-max(650px) {
        transform:scale(0.77);
      }
      @include respond-max(490px) {
        transform:scale(0.6);
      }
    }
}

.field-half {
	width: 50%;
	float: left;
	&:last-child {
		padding-left: 1em;
	}
	@include respond-max(700px) {
		width: 100%;
		&:last-child {
			padding-left: 0;
			margin-top: 1em;
		}
	}
}

.field--label {
	width: 18%;
	line-height: 1.25;
	padding: 0.5em 0;
	margin-bottom: 0;
	float: left;
	.field-half & {
		width: 36%;
		@include respond-max(700px) {
			width: 18%;
		}
	}
	@include respond-max(650px) {
		display: block;
		float: none;
	}
}

.field--input {
	@extend %text-input;
	width: 82%;
	float: left;
	.field-half & {
		width: 64%;
		@include respond-max(700px) {
			width: 82%;
		}
	}

}

.field--textarea {
	@extend %text-input;
	width: 82%;
	resize: none;
}

.field--button {
	@extend %button-input;
}

.flash {
	@extend %epsilon;
	display: block;
	color: $white;
	background-color: $orange;
	padding: 0.5em;
	margin-bottom: $shim;
}

label {
	display: block;
	margin-bottom: 6px;
}

.text-input {
	@extend %text-input;
	width: 100%;
}

.form-message {
	@extend %eta;
	display: block;
	line-height: 1;
	margin-bottom: 10px;
}

.new_user, .new_user a {
  color: $black;
}

.edit_user, .edit_user a {
  color: $black;
}

// Form errors
// --------------------------
#error_explanation {
	color: $white;
	background-color: $orange;
	padding: 0.69em;
	margin-bottom: 1em;
	h2 {
		@extend %epsilon;
		line-height: 1;
		margin: 0 0 0.69em;
	}
	ul {
		// @extend %unstyled-list;
		padding-left: 1.69em;
		margin: 0;
	}
	li {
		@extend %epsilon;
	}
	li + li {
		margin-top: 0.3em;
	}
}

// frontend_page components
// --------------------------------------------------------
.page-title {
	@extend %alpha;
}

.page-heading {
  font-size: 3.2em;
  line-height: 1.2;
  margin-bottom: 0.1em !important;
  .dark & {
    color: $chartreuse;
  }

  @include respond-max(400px) {
    font-size: 2.5em;
  }
}

.section-heading {
  font-size: 1em;
  font-weight: $bold;
  margin-top: 32px;
  margin-bottom: 2px !important;
}

.section-subheading {
  font-size: 0.88em;
  font-weight: $bold;
  margin-bottom: 0.6em !important;
  .details-list + & {
    margin-top: 55px;
  }
}

// Two column layouts
// Best suited to frontend_page layout
// --------------------------------------------------------
.columns {
	@extend %clearfix;
}

.columns-wrapper {
  @extend %clearfix;
  width: 70%;
  background: white;
  display: inline-block;
}

.column-half {
  width: 50%;
  float: left;
  .columns-wrapper & {
    width: 65%;
  }
  &.padded {
    padding: 83px 80px 46px 22px;
  }
}

.column-fifth {
  width: 20%;
  float: left;
  .columns-wrapper & {
    width: 35%;
    @include respond-max(970px) {
      float: none;
      width: 100%;
      margin: 0 auto;
      &.padded {
        padding: 10px 40px 46px 40px;
      }
    }
  }
  &.padded {
    padding: 10px 20px 46px 40px;
  }
}

.column-six-fifths {
  width: 30%;
  float: right;
  img {
    width: 90%;
    display: block;
    margin: 0 auto;
  }
  .narrow-image {
    width: 77%;
  }
  .narrow-paragraph {
    padding: 0px 0px 0px 16px;
  }
  &.padded-top {
    padding: 158px 46px 46px 46px;
  }
  &.padded {
    padding: 15px 32px 0px 38px;
  }
}


// Two equal-width columns
// To be used only alongside another column-equal
.column-equal {
	@extend %column;
	width: 350px;
	img {
		width: 100%;
	}
	@include respond-max(1070px) {
		width: 50%;
	}
	@include respond-max(960px) {
		img {
			max-width: 350px;
		}
	}
}

// To be used alongside column-narrow
.column-wide {
	@extend %column;
	width: 500px;
	@include respond-max(1070px) {
		width: 70%;
	}
}

// To be used alongside column-wide
.column-narrow {
	@extend %column;
	width: 200px;
	@include respond-max(1070px) {
		width: 30%;
	}
}

// full-width column
// Allows mixing of partial-width & full-width content
// within .columns
.column-single {
	width: 100%;
	margin-bottom: $shim * 2;
	clear: both;
}

.column-main {
  width: 70%;
  float: left;
  &.padded {
    padding: 60px 188px 60px 64px;
  }
}

// Column typographic components
// --------------------------
.column--heading {
	@extend %beta;
}

// News components
// --------------------------------------------------------
.post {
	& + & {
		padding-top: $space * 2;
		border-top: 1px solid $grayLight;
		margin-top: $space * 2;
	}
}

.post--title {
	@extend %beta;
}

.post--dateline {
	@extend %delta;
	// @extend %with-gray-dark;
	display: block;
  color: $white;
	margin-bottom: 0.25em;
  font-size: 1em;
  font-weight: $bold;
}

.post--byline {
	@extend %gamma;
	// @extend %with-gray-dark;
  color: $white;
	text-transform: uppercase;
  font-size: 1em;
  font-weight: $bold;
}

// Generic utilities
// --------------------------------------------------------
.pull-left {
	float: left;
}

.pull-right {
	float: right;
}

.small {
	@extend %zeta;
}

// Generic components
// --------------------------------------------------------
// Links
// --------------------------
.white-button {
	@extend %white-button;
}

.white-bordered-button {
	@extend %white-bordered-button;
}

.white-ex-button {
	@extend %white-ex-button;
}

.white-bordered-ex-button {
	@extend %white-bordered-ex-button;
}
